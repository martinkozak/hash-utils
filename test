#!/usr/bin/ruby
# encoding: utf-8
# (c) 2011 Martin KozÃ¡k (martinkozak@martinkozak.net)

$:.push("./lib")
require "hash-utils"
require "riot"


## FILE

context "File#touch" do
    setup { File.touch("./~test") }
    asserts("correctness") { File.exists? "./~test" }
    teardown { File.unlink("./~test") }
end

context "File#write" do
    setup { File.write("./~test", "some string") }
    asserts("correctness") { File.read("./~test") == "some string" }
    teardown { File.unlink("./~test") }
end

## HASH

context "Hash#map_values" do
    setup { {:a => 1, :b => 2 }.map_values { |i| i + 1 } }
    asserts("correctness") { topic == { :a => 2, :b => 3 } }
end

context "Hash#map_values!" do
    setup { {:a => 1, :b => 2 }.map_values! { |i| i + 1 } }
    asserts("correctness") { topic == { :a => 2, :b => 3 } }
end

## STRING

context "String#first" do
    setup { "abc".first }
    asserts("correctness") { topic == ?a }
end

context "String#last" do
    setup { "abc".last }
    asserts("correctness") { topic == ?c }
end
